<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ice="http://www.icesoft.com/icefaces/component"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:ace="http://www.icefaces.org/icefaces/components"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link href="./resources/css/default.css" rel="stylesheet" type="text/css" />
        <link href="./resources/css/cssLayout.css" rel="stylesheet" type="text/css" />
        
        <title>Administrador de servicios</title>
    </h:head>
    <h:body>
        <div id="top" class="top">
            <ice:graphicImage value="resources/icono_salud.jpg"></ice:graphicImage>
            <ice:graphicImage value="resources/Titulo.png"></ice:graphicImage>
        </div>    
        
        <div id="content" class="center_content">
        <ice:form id="form_cita">
            <h1>Petici√≥n de Citas</h1>
            <ace:panel style="float: right">
                <h:panelGrid styleClass="centeredPanelGridWithBorderSpacing">
                    <ice:graphicImage id="mouseOver" value="resources/usuario.png" style="height: 50px"> 
                    </ice:graphicImage>
                </h:panelGrid>
            </ace:panel>
            
            <ace:menu id="menu" position="dynamic" trigger="mouseOver" my="left top" at="left bottom" triggerEvent="mouseenter" >
                <ace:submenu>
                    <ace:menuItem value="Ver historia clinica" icon="resources/historia.jpg" action="#{infoHomeUsuario.goUsuarioHistoriaClinica}"/>
                    <ace:menuItem value="Editar informacion personal" icon="resources/settings"/>
                </ace:submenu>
            </ace:menu>
            <h:panelGrid columns="2">
                <h:outputText value="Hospital"/>
                <ice:selectOneMenu> 
                    <f:selectItems value="#{infoHomeUsuario.hospitales}"/>
                </ice:selectOneMenu>
                <h:outputText value="Especialidad"/>
                <ice:selectOneMenu> 
                    <f:selectItems value="#{infoHomeUsuario.hospitales}"/>
                </ice:selectOneMenu>
                <h:outputText value="Medico"/>
                <ice:selectOneMenu> 
                    <f:selectItems value="#{infoHomeUsuario.hospitales}"/>
                </ice:selectOneMenu>
            </h:panelGrid>
            <br></br>
            <h1>Horario</h1>
                    <p:growl id="messages" showDetail="true" />  
  
                    <p:schedule id="schedule" value="#{scheduleController.eventModel}" allDaySlot="false" widgetVar="myschedule" style="width: 100%;" rightHeaderTemplate="" view="agendaWeek">  

                        <p:ajax event="dateSelect" listener="#{scheduleController.onDateSelect}" update="eventDetails" oncomplete="eventDialog.show()" />  
                        <p:ajax event="eventSelect" listener="#{scheduleController.onEventSelect}" update="eventDetails" oncomplete="eventDialog.show()" />  
                        <p:ajax event="eventMove" listener="#{scheduleController.onEventMove}" update="messages" />  
                        <p:ajax event="eventResize" listener="#{scheduleController.onEventResize}" update="messages" />  

                    </p:schedule>  

                    <p:dialog widgetVar="eventDialog" header="Event Details" showEffect="clip" hideEffect="clip">  
                        <h:panelGrid id="eventDetails" columns="2">  
                            <h:outputLabel for="from" value="From:" />  
                            <p:inputMask id="from" value="#{scheduleController.event.startDate}" mask="99/99/9999">  
                                <f:convertDateTime pattern="dd/MM/yyyy" />  
                            </p:inputMask>  

                            <h:outputLabel for="to" value="To:" />  
                            <p:inputMask id="to" value="#{scheduleController.event.endDate}" mask="99/99/9999">  
                                <f:convertDateTime pattern="dd/MM/yyyy" />  
                            </p:inputMask>  

                            <p:commandButton type="reset" value="Reset" />  
                            <p:commandButton id="addButton" value="Save" actionListener="#{scheduleController.addEvent}" oncomplete="myschedule.update();eventDialog.hide();"/>  
                        </h:panelGrid>  
                    </p:dialog>
                    <ice:commandButton value="Reservar cita" style="float: right"> 
                    </ice:commandButton>
        </ice:form>
        </div>
        <div id="bottom">
            <ui:insert name="bottom">
                <h:outputText value="All rights reserved and all that BS"/>
            </ui:insert>
        </div>
    </h:body>
</html>

